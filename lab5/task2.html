<!DOCTYPE html>
<html>
    <head>
        <title>Open Weather</title>
    </head>
    <body>
        <h1> Todays Weather Report</h1>
        <h2 id = "city">Enter City </h2>
        <input type="text" id="cityInput" placeholder="Enter City">
        <h2 id="country">Enter Country Code:</h2>
        <input type="text" id="countryInput" placeholder="Enter Country Code">
        <button onclick="getWeather()">Get Weather</button>
        <h1 id="output"></h1>
        <script>
            async function getWeather() {
                let city = document.getElementById("cityInput").value;
                //let state = document.getElementById("stateInput").value;
                let country = document.getElementById("countryInput").value;
                const exam=await fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${city},${country}&appid=cf1c4b34e69a68d2d5501c33dd7c73a6`);
                const datae = await exam.json();
                const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${datae[0].lat}&lon=${datae[0].lon}&appid=cf1c4b34e69a68d2d5501c33dd7c73a6`);
                const data = await response.json();
                console.log(data);
                let out='Humidity:'+data.main.humidity+'<br>';
                out+='temp_max:'+data.main.temp_max+'<br>';
                document.getElementById("output").innerHTML=out+'temp_min:'+data.main.temp_min;
            }
        </script>
    </body>
</html>